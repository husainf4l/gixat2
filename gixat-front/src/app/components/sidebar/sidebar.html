<!-- Mobile Backdrop -->
@if (layoutService.sidebarOpen()) {
  <div 
    class="fixed inset-0 bg-black/20 backdrop-blur-sm z-30 lg:hidden transition-opacity duration-300"
    (click)="layoutService.closeSidebar()"
  ></div>
}

<!-- Sidebar -->
<aside 
  class="fixed inset-y-0 left-0 z-40 w-64 bg-white/80 backdrop-blur-md border-r border-slate-200/60 flex flex-col transition-transform duration-300 ease-in-out lg:translate-x-0 shadow-xl lg:shadow-none"
  [class.translate-x-0]="layoutService.sidebarOpen()"
  [class.-translate-x-full]="!layoutService.sidebarOpen()"
>
  <!-- Logo Section -->
  <div class="p-6 border-b border-slate-100/60">
    <app-logo [height]="28" />
  </div>

  <!-- Navigation Links -->
  <nav class="flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar">
    @for (item of menuItems; track item.path) {
      <a 
        [routerLink]="item.path"
        routerLinkActive="bg-[#1b75bc]/5 text-[#1b75bc]"
        [routerLinkActiveOptions]="{ exact: true }"
        (click)="onNavigate()"
        class="group flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-600 rounded-xl hover:bg-slate-50 hover:text-slate-900 transition-all duration-200"
      >
        <i [class]="item.icon" class="text-lg transition-transform duration-200 group-hover:scale-110"></i>
        {{ item.label }}
      </a>
    }
  </nav>

  <!-- User Section / Profile & Logout -->
  <div class="p-4 border-t border-slate-100/60 bg-slate-50/50 space-y-2">
    <a 
      [routerLink]="profilePath"
      routerLinkActive="bg-[#1b75bc]/5 text-[#1b75bc]"
      (click)="onNavigate()"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-600 rounded-xl hover:bg-slate-50 hover:text-slate-900 transition-all duration-200"
    >
      <i class="ri-user-line text-lg"></i>
      Profile
    </a>
    <button 
      (click)="logout()"
      class="w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-red-600 rounded-xl hover:bg-red-50 transition-all duration-200"
    >
      <i class="ri-logout-box-line text-lg"></i>
      Sign Out
    </button>
  </div>
</aside>
